## 1.2 因特网概述

### (1). 网络、互连网（互连网）和因特网

<font color=green>网络</font>(Network)由若干结点(Node)和链接这些结点的链路(Link)组成。

多个网络还可以通过路由器互连起来，这样就构成了一个覆盖范国更大的网络，即互联网（或互连网）。因此，互联网是”网络的网络“(Network of Networks)。

因特网 (lnternet）是世界上最大的互连网络（用户数以亿计，互连的网络数以百万计）。

### (2). 因特网发展的三个阶段

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230227203306.png)

### (3). 因特网的标准化工作

因特网的标准化工作对因特网的发展起到了非常重要的作用。

因特网在制定其标准上的一个很大的特点是面向公众。

- 因特网所有的RFC(Request For Comments) 技术文档都可从因特网上免费下载；
- 任何人都可以随时用电子邮件发表对某个文档的意见或建议。

因特网协会1SOC是一个国际性组织，它负责对因特网进行全面管理，以及在世界范围内促进其发展和使用。

- 因特网体系结构委员会IAB，负责管理因特网有关协议的开发；
- 因特网工程部!ETF，负责研究中短期工程问题，主要针对协议的开发和标准化;
- 因特网研究部IRTF，从事理论方面的研究和开发一些需要长期考虑的问题。

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230227203838.png)

制订因特网的正式标准要经过以下4个阶段：

- 因特网草案（在这个阶段还不是RFC文档）
- 建议标准（从这个阶段开始就成为RFC文档）
- 草案标准
- 因特网标准

### (4). 因特网的组成

- 边缘部分：由所有连接在因特网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。

- 核心部分：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。

## 1.3 三种交换方式

### (1). 电路交换（Circuit Switching）

- 电话交换机接通电话线的方式称为电路交换；

- 从通信资源的分配角度来看，交换(Switching） 就是按照某种方式动态地分配传输线路的资源;

- 电路交换的三个步骤：
    1. ﻿﻿建立连接（分配通信资源）
    2. ﻿﻿通话（一直占用通信资源）
    3. ﻿﻿释放连接（归还通信资源）

当使用电路交换来传送计算机数据时，其线路的传榆效率往往很低，因为电路交换往往是突发式发生的。

### (2). 分组交换 （Packet Switching）

- 发送方：构造分组、发送分组
- 路由器：缓存分组、转发分组
- 接收方：接收分组、还原报文

### (3). 报文交换(Message Switching)

与分组交换类似，但是报文交换中的数据报的大小是不受限制，所以路由器中需要有足够大的缓存。

### (4). 三种交换方式对比

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230227205606.png)

| 交换方式 | 电路交换                                                     | 报文交换                                                     | 分组交换                                                     |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 优点     | 通信时延小<br />有序传输<br />没有冲突 ﻿<br />活用范围广<br />实时性强<br />控制简单 | 无需建立连接<br />动态分配线路<br />提高线路可靠性<br />提高线路利用率<br />提供多目标服务 | 无需建立连接<br />线路利用率高<br />简化了存储管理<br />加速传输<br />减少出错预率和重发数据量 |
| 缺点     | 建立连接时间长<br />﻿线路独占，使用效率低<br />灵活性差<br />难以规格化 | 引起了转发时延<br />需要较大存储级存空间<br />需要传输颜外的信息量 | 引起了转发时延<br />需要传物额外的信点量<br />对于数据报服务，存在失序，丟失或重复分组的问题；对于虚电路服务，存在呼叫建立，数据传输和发电路释放三个过程 |

## 1.4 计算机网络的定义和分类

### (1). 定义

计算机网络的最简单的定义是：一些互相连接的、自治的计算机的集合。

- 互连：是指计算机之间可以通过有线或无线的方式进行数据通信；
- 自治：是指独立的计算机，它有自己的硬件和软件，可以单独运行使用；
- 集合：是指至少需要两台计算机。

正式定义：计算机网络主要是由一些通用的、可编程的硬件互连而成的，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号）。这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。

- 计算机网络所连接的硬件，并不限于一般的计算机，而是包括了智能手机等智能硬件。
- 计算机网络并非专门用来传送数据，而是能够支持很多种的应用（包括今后司能出现附售种应用）。

### (2). 分类

|    分类标准    | 种类                                       |
| :------------: | :----------------------------------------- |
| 按交换技术分类 | 电路交换网络、报文交换网络、分组交换网络   |
|  按使用者分类  | 公用网、专用网                             |
| 按传输介质分类 | 有线网络、无线网络                         |
| 按覆盖范围分类 | 广域网WAN、城域网MAN、局域网LAN、个域网PAN |
| 按拓扑结构分类 | 总线型网络、星型网络、环形网络、网状型网络 |

## 1.5 计算机网络的性能指标

### (1). 速率

比特：计算机中数据量的单位，也是信息论中信息量的单位。一个比特就是二进制数字中的一个1或0。

比特的单位：8 bit = 1 Byte、KB = $2^{10}$B、MB = $2^{20}$B

速率：连接在计算机网络上的主机在数字信道上传送比特的速率，也称为比特率或数据率。

速率的单位：bit/s(b/s, bps)、kb/s = $10^3$b/s、Mb/s = $10^6$b/s

### (2). 带宽

|      | 模拟信号中                                   | 计算机网络中                                                 |
| :--: | -------------------------------------------- | ------------------------------------------------------------ |
| 意义 | 信号所包含的各种不同频率成分所占据的频率范围 | 用来表示网络的通信线路所能传送数据的能力，因此网络带宽表示在单位时间内从网络中的某一点到另一点所能通过的“最高数据率” |
| 单位 | Hz (kHz，MHz，GHz)                           | b/s (kb/s, Mb/s, Gb/s, Tb/s)                                 |

其实，“带宽” 的这两种表述之问有着密切的联系。一条通信线路的 “频带宽度” 越宽，其所传输数据的 “最高数据率” 也越高。

### (3). 吞吐量

吞吐量表示在单位时间内通过某个网络（或信道、接口）的数据量。

吞吐量被经常用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。

吞吐量受网络的带宽或额定速率的限制。

### (4). 时延

| 名称     | 计算公式                          | 注                                              |
| -------- | --------------------------------- | ----------------------------------------------- |
| 发送时延 | $\frac{分组长度}{发送速率}$       | 其大小取决于设备网络线路上设备发送时延的最小值  |
| 传播速率 | $\frac{信道长度}{电磁波传播速率}$ | 电磁波传播速率：自由空间：$3 \times 10^8 \ m/s$ |
| 处理时延 | 网络设备差异，一般不方便计算      |                                                 |
| 网络时延 |                                   |                                                 |

在处理时延忽略不记得前提下， 发送时延或者传播时延可能在整个时延中占据主导，应该具体问题具体分析。

### (5). 时延带宽积

$$时延带宽机 \ = \ 传播时延 \ \times \ 带宽$$

- 若发送端连续发送数据，则在所发送的第一个比特即将到达终点时，发送端就己经发送了时延带宽积个比特；

- 链路的时延带宽积又称为以比特为单位的链路长度。

### (6). 往返时间RTT

RTT：从源主机发送分组开始，直到源主机收到来自目的主机的确认分组为止。

### (7). 利用率

信道利用率：用来表示某信道有百分之几的时间是被利用的（有数据通过）。

网络利用率：全网络的信道利用率的加权平均。

根据排队论，当某信道的利用率增大时，该信道号(起的时延也会迅速增加。因此，信道利用率并非越高越好。如果令 $D_0$ 表示网络空闲时的时延，$D$ 表示网络当前的时延，那么在适当的假定条件下，可以用下面的简单公式来表示 $D$、$D_0$ 和利用率 $U$ 之间的关系：


$$
D = \frac{D_0}{1 - U}
$$


- 当网络的利用率达到50%时，时延就要加倍：
- 当网络的利用率超过50%时，时延急剧增大；
- 当网络的利用率接近100%时，时延就趋于无穷大;
- 因此，一些拥有较大主干网的ISP通常会控制它们的信道利用率不超过50%。如果超过了，就要准备扩容，增大线路的带宽。

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230228212848.png)

也不能使信道利用率太低，这会使宝贵的通信资源被白白浪费。应该使用一些机制，可以根据情况动态调整输入到网络中的通信量，使网络利用率保持在一个合理的范国内。

### (8). 丢包率

丢包率即分组丢失率，是指在一定的时间范国内，传输过程中丢失的分组数量与总分组数量的比率。

丢包率具体可分为接口丢包率、结点丢包率，链路丢包率、路径丢包率、网络丢包率等。

分组丟失主要有两种情况：

- 分组在传输过程中出现误码，被结点丢奔;

- 分组到达一台队列己满的分组交换机时被丢奔，在通信量较大时就可能造成网络拥塞。

## 1.6 计算机网络体系结构

### (1). 常见的计算机网络体系结构

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230228214131.png)

TCP/IP网络体系结构：

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230228213940.png)

注意：

- IP协议是整个网络体系的核心
- 记住各个层的常用协议
- 路由器仅包含网际层、网络接口层

### (2). 计算机网络体系结构分层的必要性

“分层" 可将庞大而复杂的问题，转化为若干较小的局部向题，而这些较小的局部问题就比较易于研究和处理。

| 各层名称   | 该层解决的问题                                               |
| :--------- | ------------------------------------------------------------ |
| 物理层     | 解决使用何种信号来传输比特的问题：<br />1. 采用怎样的传输媒体（介质）<br />2. 采用怎样的物理接口<br />3. 使用怎样的信号表示比特0和1 |
| 数据链路层 | 解决分组在一个网络(或一段链路）上传输的问题：<br />1. 如何标识网络中的各主机（主机编址问题，例如MAC地址）<br />2. 如何从信号所表示的一连串比特流中区分出地址和数据<br />3. 如何协调各主机争用总线 |
| 网络层     | 解决分组在多个网络上传输 (路由）的问题：<br />1. 如何标识各网络以及网络中的各主机（网络和主机共同编址的问题，例如IP地址）<br />2. 路由器如何转发分组，如何进行路由选择 |
| 运输层     | 解決进程之间基于网络的通信问题：<br />1. 如何解決进程之间基于网络的通信问题<br />2. 出现传输错误时，如何处理 |
| 应用层     | 解決通过应用进程的交互来实现特定网络应用的问题               |



### (3). 计算机网络体系结构中的专用术语

### (1). 实体

实体：任何可发送或接收信息的硬件或软件进程。

对等实体：收发双方相同层次中的实体。

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230228220208.png)

### (2). 协议

协议：控制两个对等实体进行逻辑通信的规则的集合。

协议的三要素：

- 语法：定义所交换信息的格式
- 语义：定义收发双方所要完成的操作
- 同步：定义收发双方的时序关系

### (3). 服务

在协议的控制下，两个对等实体间的逻辑通信使得本层能够向上一层提供服务。

要实现本层协议，还需要使用下面一层所提供的服务。

协议是“<font color=red>水平的</font>”，服务是“<font color=red>垂直的</font>”。

实体<font color=red>看得见相邻下层所提供的服务，但并不知道实现该服务的具体协议</font>。也就是说，下面的协议对上面的实体是"透明"的。

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230228220812.png)

<font color=green>服务访问点</font>：在同一系统中相邻两层的实体交换信息的逻辑接口，用于区分不同的服务类型。

- 数据链路层的服务访问点为帧的“类型” 字段。
- 网络层的服务访问点为IP数据报首部中的“协议字段”。
- 运输层的服务访问点为 “端口号”。

<font color=green>服务原语</font>：上层使用下层所提供的服务必须通过与下层交换一些命令，这些命令称为服务原语。

<font color=green>协议数据单元PDU</font>：对等层次之间传送的数据包称为该层的协议数据单元。

<font color=green>服务数据单元SDU</font>：同一系统内，层与层之间交换的数据包称为服务数据单元。

> 多个SDU可以合成为一个PDU;一个SDU也可划分为几个PDU。

![](https://cdn.jsdelivr.net/gh/LuciferCCC/blogs_images@main/20230228221323.png)

